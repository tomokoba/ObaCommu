<div class="topic">
  <div class="container">
    <h1 class="topic-font my-4">投稿編集</h1>
  </div>
</div>
<div class="main">
  <div class="card devise-card">
    <div class="form-wrap">

      <%= render "posts/errors", post: @post %>

  　　<%= form_with model: @post, url: post_path(@post), method: :patch, local:true do |f| %>
        <div class="form-group mb-4">
          <%= f.label "タイトル", class: "font-weight-bold" %>（必須）<br />
          <%= f.text_field :title, class: "form-control" %>
        </div>
        <div class="form-group mb-4">
          <%= f.label "画像", class: "font-weight-bold" %>（必須：最大5枚まで）</br>
          <%= f.attachment_field :photos_images, multiple: true %>
        </div>
        <div class="form-group mb-4">
          <%= f.label "本文", class: "font-weight-bold" %>（必須）</br>
          <%= f.text_area :caption, class: "form-control js-text", rows: 6, placeholder: '例）ゴルフに行きました。天気が良くて気持ちがよかったです。' %>
          <p class="js-text-count text-right mt-1"></p>
        </div>
        <div class="actions">
          <%= f.submit "編集を完了する", class: "btn btn-green w-100" %>
        </div>
      <% end %>

      <div class="mt-3">
        <% if @post.user_id == current_user.id %>
          <%= link_to post_path(@post), method: :delete, "data-confirm" => "OKを押すと投稿が削除されます。本当によろしいですか？" do %>
            <div class="fas fa-trash-alt underline-danger"> 投稿を削除する</div>
          <% end %>
        <% end %>
      </div>

    </div>
  </div>
</div>
